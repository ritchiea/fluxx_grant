- if model.request_amendments.select{|ra| (ra.duration || ra.end_date) && (ra.is_approved? || ra.is_original?) }.empty?
  - if model.is_a?(FipRequest)
    = "#{model.fip_projected_end_at ? model.fip_projected_end_at.mdy : ''} (Original)"
  - elsif Fluxx.config(:dont_use_duration_in_requests) == "1"
    = "#{model.grant_closed_at ? model.grant_closed_at.mdy : ''} (Original)"
  - else
    = "#{model.duration_in_months} months (Original)"
- else 
  - model.request_amendments.select{|ra| ra.is_approved? || ra.is_original?}.reverse.each do |amend|
    - if amend.duration || amend.end_date
      %div
        - if model.is_a?(FipRequest)
          = "#{model.fip_projected_end_at ? model.fip_projected_end_at.mdy : ''}"
        - elsif Fluxx.config(:dont_use_duration_in_requests) == "1"
          = "#{model.grant_closed_at ? model.grant_closed_at.mdy : ''}"
        - else
          = "#{model.duration_in_months} months"
